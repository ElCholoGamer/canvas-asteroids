{"version":3,"sources":["webpack://canvas-asteroids/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://canvas-asteroids/./node_modules/@babel/runtime/helpers/construct.js","webpack://canvas-asteroids/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://canvas-asteroids/./node_modules/@babel/runtime/helpers/inherits.js","webpack://canvas-asteroids/./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack://canvas-asteroids/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://canvas-asteroids/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://canvas-asteroids/./node_modules/@babel/runtime/helpers/typeof.js","webpack://canvas-asteroids/./src/objects/menu/play-button.ts","webpack://canvas-asteroids/./src/objects/menu/button.ts","webpack://canvas-asteroids/./src/scenes/menu.ts","webpack://canvas-asteroids/./src/structures/game-object.ts","webpack://canvas-asteroids/./src/structures/scene.ts"],"names":["module","exports","self","ReferenceError","setPrototypeOf","isNativeReflectConstruct","_construct","Parent","args","Class","Reflect","construct","a","push","apply","instance","Function","bind","prototype","arguments","_getPrototypeOf","o","Object","getPrototypeOf","__proto__","subClass","superClass","TypeError","create","constructor","value","writable","configurable","sham","Proxy","Date","toString","call","e","_typeof","assertThisInitialized","_setPrototypeOf","p","obj","Symbol","iterator","game","console","log","this","scheduler","time","loadScene","text","width","height","hovered","canvas","controls","isHovered","onHover","style","cursor","mouse","clicked","onClick","ctx","strokeStyle","fillStyle","lineWidth","font","textBaseline","textAlign","fillText","x","y","strokeRect","globalAlpha","fillRect","buttonX","buttonWidth","instantiate","getContext","GameObject","layer","scene","destroy","Scene","_objects","ctor","filter"],"mappings":"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","file":"32.f0a07e20.chunk.js","sourcesContent":["function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","import Game from '../../structures/game';\nimport Button from './button';\n\nclass PlayButton extends Button {\n\tpublic constructor(game: Game) {\n\t\tsuper(game, 'Play', 200, 50);\n\t}\n\n\tpublic onClick() {\n\t\tconsole.log('Starting game at tick ' + this.game.scheduler.time);\n\t\tthis.game.loadScene('game');\n\t}\n}\n\nexport default PlayButton;\n","import Game from '../../structures/game';\nimport GameObject from '../../structures/game-object';\n\nabstract class Button extends GameObject {\n\tprivate hovered = false;\n\n\tpublic constructor(\n\t\tgame: Game,\n\t\tpublic readonly text: string,\n\t\tpublic readonly width: number,\n\t\tpublic readonly height: number\n\t) {\n\t\tsuper(game);\n\t}\n\n\tpublic abstract onClick(): void;\n\tpublic onHover() {}\n\n\tpublic tick() {\n\t\tconst { canvas, controls } = this.game;\n\n\t\tif (!this.isHovered()) {\n\t\t\tcanvas.style.cursor = 'auto';\n\t\t\tthis.hovered = false;\n\t\t} else {\n\t\t\tif (!this.hovered) {\n\t\t\t\tthis.hovered = true;\n\t\t\t\tthis.onHover();\n\t\t\t}\n\n\t\t\tcanvas.style.cursor = 'pointer';\n\t\t\tif (controls.mouse.clicked) {\n\t\t\t\tthis.onClick();\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic render(ctx: CanvasRenderingContext2D) {\n\t\tctx.strokeStyle = 'white';\n\t\tctx.fillStyle = 'white';\n\t\tctx.lineWidth = 1;\n\n\t\tctx.font = `${this.height * 0.5}px Arcade`;\n\t\tctx.textBaseline = 'middle';\n\t\tctx.textAlign = 'center';\n\n\t\tctx.fillText(this.text, this.x + this.width / 2, this.y + this.height / 2);\n\t\tctx.strokeRect(this.x + 0.5, this.y + 0.5, this.width, this.height);\n\n\t\tif (this.isHovered()) {\n\t\t\tctx.globalAlpha = 0.5;\n\t\t\tctx.fillRect(this.x + 0.5, this.y + 0.5, this.width, this.height);\n\t\t}\n\t}\n\n\tpublic isHovered() {\n\t\tconst { x, y } = this.game.controls.mouse;\n\t\treturn (\n\t\t\tx >= this.x &&\n\t\t\tx <= this.x + this.width &&\n\t\t\ty >= this.y &&\n\t\t\ty <= this.y + this.height\n\t\t);\n\t}\n}\n\nexport default Button;\n","import PlayButton from '../objects/menu/play-button';\nimport Scene from '../structures/scene';\n\nclass MenuScene extends Scene {\n\tpublic start() {\n\t\tconst buttonWidth = 200;\n\t\tconst buttonX = this.game.canvas.width / 2 - buttonWidth / 2;\n\n\t\tthis.instantiate(PlayButton, buttonX, 200);\n\t}\n\n\tpublic tick() {\n\t\tconst { canvas } = this.game;\n\t\tconst ctx = canvas.getContext('2d')!;\n\n\t\tctx.font = '30px Arcade';\n\t\tctx.fillStyle = 'white';\n\t\tctx.textAlign = 'center';\n\t\tctx.textBaseline = 'top';\n\n\t\tctx.fillText('Canvas Asteroids', canvas.width / 2, 50);\n\t}\n}\n\nexport default MenuScene;\n","import Game from './game';\n\nabstract class GameObject {\n\tpublic x = 0;\n\tpublic y = 0;\n\n\tpublic constructor(protected readonly game: Game, public layer = 0) {}\n\n\tpublic abstract tick(): void;\n\tpublic abstract render(ctx: CanvasRenderingContext2D): void;\n\n\tpublic destroy() {\n\t\tthis.game.scene.destroy(this);\n\t}\n}\n\nexport default GameObject;\n","import Game from './game';\nimport GameObject from './game-object';\n\nabstract class Scene {\n\tprivate _objects: GameObject[] = [];\n\n\tpublic constructor(protected readonly game: Game) {}\n\n\tpublic abstract start(): void;\n\n\tpublic instantiate<T extends GameObject, A extends any[]>(\n\t\tctor: new (game: Game, ...args: A) => T,\n\t\tx: number,\n\t\ty: number,\n\t\t...args: A\n\t): T {\n\t\tconst obj = new ctor(this.game, ...args);\n\t\tobj.x = x;\n\t\tobj.y = y;\n\t\tthis._objects.push(obj);\n\n\t\treturn obj;\n\t}\n\n\tpublic destroy(obj: GameObject) {\n\t\tthis._objects = this._objects.filter(o => o !== obj);\n\t}\n\n\tpublic get objects(): ReadonlyArray<GameObject> {\n\t\treturn this._objects;\n\t}\n}\n\nexport default Scene;\n"],"sourceRoot":""}